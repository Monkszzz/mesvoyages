{% extends "baseadmin.html.twig" %}

{% block body %}
<div class="container mt-4">
    <h2 class="mb-4 text-center">Liste des Voyages</h2>

    <p class="text-end">
        <a href="{{ path('admin.voyage.ajout') }}" class="btn btn-primary">
            Ajouter une nouvelle visite
        </a>
    </p>

    <table class="table table-striped table-bordered">
        <thead class="table-dark">
            <tr>
                <th scope="col">Ville</th>
                <th scope="col">Pays</th>
                <th scope="col">Date</th>
                <th scope="col" class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for visite in visites %}
                <tr>
                    <td>
                        <h5 class="text-primary m-0">{{ visite.ville }}</h5>
                    </td>
                    <td>{{ visite.pays }}</td>
                    <td>{{ visite.datecreationstring }}</td>
                    <td class="text-center">
                        <a href="{{ path('admin.voyage.edit', {id: visite.id}) }}" class="btn btn-secondary btn-sm me-2">
                            <i class="bi bi-pencil-square"></i> Éditer
                        </a>
                        <a href="{{ path('admin.voyage.suppr', {id: visite.id}) }}" class="btn btn-danger btn-sm"
                           onclick="return confirm('Êtes-vous sûr de vouloir supprimer {{ visite.ville }} ?')">
                            <i class="bi bi-trash"></i> Supprimer
                        </a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="4" class="text-center text-muted">Aucune visite enregistrée.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Test d'un bouton Bootstrap pour vérifier le bon chargement -->
    <div class="text-center mt-4">
        <button class="btn btn-success">Test Bootstrap</button>
    </div>
</div>
{% endblock %}
